# SmartRPA Background Service - 项目总结

## 项目概述

SmartRPA Background Service是一个基于Node.js的智能自动化处理平台，专注于网页自动化和数据采集。该服务利用Puppeteer提供强大的网页自动化能力，能够在不同电商平台和网站上执行各类任务，如数据爬取、信息提取和自动化操作。

## 核心功能

### 1. 多平台数据获取
- 支持多个电商平台和网站的数据采集 (OZON, Amazon, 美团, 京东, 小红书等)
- 能够提取产品信息、价格、评分、评论数、库存等多维度数据
- 自动处理多种网页结构和布局

### 2. 任务管理系统
- 任务创建、分配、执行和状态跟踪
- 支持并行任务处理和队列管理
- 提供任务超时处理、自动重试和错误恢复机制

### 3. 模块化任务执行器
- 基于面向对象设计的任务执行框架
- 包括点击(`ClickTask`)、输入(`InputTask`)、输出(`OutputTask`)等多种操作类型
- 支持针对不同目标网站的自定义任务实现

### 4. API接口服务
- REST API接口用于任务提交和管理
- 心跳检测机制确保任务执行状态实时更新
- 任务进度跟踪和结果查询接口

### 5. 浏览器会话管理
- Cookie持久化和会话管理
- 支持AdsPower浏览器指纹管理
- 自动登录和认证处理

### 6. 数据处理和输出
- 数据清洗和结构化处理
- 支持多种输出格式（JSON, CSV, Excel等）
- 支持AWS S3云存储集成

## 技术栈

- **后端框架**: Node.js, Express
- **浏览器自动化**: Puppeteer
- **数据处理**: xlsx, csv-parser
- **云集成**: AWS SDK, Google Cloud
- **数据库集成**: PostgreSQL
- **容器化**: Docker

## 系统架构

系统由以下主要组件构成:

1. **主服务器 (server.js)**: 处理API请求，管理任务执行
2. **任务处理器 (handler.js)**: 执行具体任务逻辑
3. **任务管理API (task_manager_api.js)**: 提供任务工作流管理
4. **模块化任务执行器**: 各类网站特定的自动化实现
5. **工具模块**: 配置管理、数据处理、图像处理等

## 部署和运维

- 支持Docker容器化部署
- 提供健康检查和状态监控
- 支持云环境和本地环境配置
- 日志记录和错误跟踪

## 应用场景

- 电商价格监控和比较
- 产品信息采集和分析
- 自动化测试和监控
- 数据驱动的市场研究
- 餐饮外卖信息采集和管理

## 扩展性

系统设计支持灵活扩展：
- 轻松添加新的目标网站支持
- 扩展任务类型和功能
- 集成外部系统和API
- 支持自定义数据处理流程